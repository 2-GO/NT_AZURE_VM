# NT_AZURE_VM
![1572653575_azure_vm_story](https://github.com/user-attachments/assets/321e4b92-8920-43b3-94f0-470380f75d7b)

## Network Security Groups (NSG) and Traffic Inspecting between Azure VMs
Objective: 1. to observe different types of network traffic to and from Azure VMs with Wireshark. 2. Dabble with Network Security Groups on the Azure platform. 

## Technology Used
- Microsoft Azure Virtual Machines
- Remote Desktop
- Command-line tools
- Network Protocols: SSH, ICMP, DNS HTTP/s
- Wireshark
- Windows 10
- Ubuntu

## Steps and Documentation
1. Create VMs on Azure
2. Install Wireshark on windows VM
3. Filter for ICMP traffic
4. Filter for SSH traffic
5. Filter for DHCP traffic
6. Filter for DNS traffic
7. Filter for RDP traffic

## 1. Create VM on Azure
Set up the foundational Azure infrastructure by creating a Resource Group, then deploying both Windows 10 and Ubuntu Linux virtual machines within a shared Virtual Network. This establishes a multi-OS environment with proper network connectivity, allowing for cross-platform testing and development while maintaining organized resource management through Network Watcher monitoring.

![pt1](https://github.com/user-attachments/assets/9f7428d3-3f4c-40c0-9b3a-84b42bda25d3)
![pt2](https://github.com/user-attachments/assets/3d95e468-de5f-463a-a06f-7c3b3d40f571)
![completevms](https://github.com/user-attachments/assets/62714510-b375-43f2-bcd4-549793e6263d)
![remoteaccess_windowsPT](https://github.com/user-attachments/assets/1901f4ce-f297-46e8-929d-5c0c2aa95032)

## 2. Install Wireshark on Windows VM
![wireshark_install](https://github.com/user-attachments/assets/28c74da1-5ff9-4188-9c8f-7a3c1fc9233b)

## 3. Filter for ICMP traffic
Analyze network communication patterns by remotely accessing the Windows 10 VM and installing Wireshark for packet capture. Configure ICMP filtering to monitor ping traffic between the Windows and Ubuntu VMs, then extend testing to external websites. Demonstrate network security controls by initiating continuous ping traffic, then blocking and unblocking ICMP traffic through Network Security Group rules while observing the real-time impact on packet flow and connectivity in both Wireshark and command line interfaces.

![ping_linuxVM](https://github.com/user-attachments/assets/5c9e8681-612b-4ea9-8d85-2ea2826ec8d3)
![ping_googleVM](https://github.com/user-attachments/assets/d1e7c9d6-45b6-4c59-acc7-c5b87e12fd14)
![ping_failed](https://github.com/user-attachments/assets/5283d217-a10b-48b1-8ebe-d1995432c264)
![reenabled_pings](https://github.com/user-attachments/assets/e06ace86-404e-4c96-98f2-a01dfe435ed9)

## 4. Filter for SSH traffic
Examine encrypted SSH communication by filtering Wireshark for SSH protocol traffic and establishing a secure shell connection from the Windows 10 VM to the Ubuntu VM using its private IP address. Execute various Linux commands during the SSH session to generate traffic patterns, then monitor how encrypted SSH packets appear in Wireshark compared to unencrypted protocols, providing insight into secure remote administration traffic.

![ssh_pt](https://github.com/user-attachments/assets/2301813e-c3ef-43ff-bd33-faa6c722fbe5)

## 5. Filter for DHCP traffic
Analyze Dynamic Host Configuration Protocol communication by filtering Wireshark for DHCP traffic and triggering IP address renewal from the Windows 10 VM command line. Use the ipconfig /renew command to initiate the DHCP discovery process and observe the four-step DHCP handshake (Discover, Offer, Request, Acknowledge) in real-time packet capture, demonstrating how network devices obtain IP addressing information automatically.

![dhcp_PT](https://github.com/user-attachments/assets/48611d00-55f9-4f72-b945-e4c5765a24ac)

## 6. Filter for DNS traffic
Examine Domain Name System resolution by filtering Wireshark for DNS traffic and performing domain name lookups from the Windows 10 VM command line. Use nslookup commands to resolve domain names like google.com and disney.com to their corresponding IP addresses, then observe the DNS query and response packets in Wireshark, demonstrating how domain names are translated to IP addresses for network communication.

![dns_PT](https://github.com/user-attachments/assets/41d0ecda-e89e-45f4-8f1d-47031d202138)

## 7. Filter for RDP
Monitor Remote Desktop Protocol communication by filtering Wireshark for RDP traffic using the tcp.port == 3389 filter. Observe the encrypted RDP session traffic generated by your current Remote Desktop connection to the Windows 10 VM, demonstrating how remote desktop sessions appear in network packet capture and the continuous data flow associated with graphical remote access protocols.

![RDP_PT](https://github.com/user-attachments/assets/de20270e-9985-44e8-9d27-b32456efccee)

## Summary
This lab provides hands-on experience with Azure virtual machine deployment, network security configuration, and comprehensive network protocol analysis. By establishing a multi-OS environment with Windows 10 and Ubuntu Linux VMs, participants gain practical knowledge of cloud infrastructure management and cross-platform networking. The systematic observation of various network protocols (ICMP, SSH, DHCP, DNS, and RDP) using Wireshark demonstrates real-world network traffic patterns, security implications of different protocols, and the importance of network monitoring in IT environments. 







